{"version":3,"sources":["webpack:///./src/views/autocomplete-tag-demo.vue?437c","webpack:///./node_modules/element-ui/src/utils/clickoutside.js","webpack:///./src/views/autocomplete-tag-demo.vue","webpack:///./src/components/Autocomplete2/index.vue","webpack:///src/components/Autocomplete2/index.vue","webpack:///./src/components/Autocomplete2/index.vue?1f3b","webpack:///src/views/autocomplete-tag-demo.vue","webpack:///./src/views/autocomplete-tag-demo.vue?6640","webpack:///./src/views/autocomplete-tag-demo.vue?4570"],"names":["nodeList","ctx","startClick","seed","createDocumentHandler","el","binding","vnode","mouseup","mousedown","context","target","contains","popperElm","expression","methodName","bindingFn","prototype","$isServer","document","e","forEach","node","documentHandler","push","id","value","len","length","i","splice","render","_vm","this","_c","_self","_l","dynamicTags","tag","key","attrs","on","$event","handleClose","_v","_s","inputVisible","directives","name","rawName","closeTagInput","ref","staticClass","querySearch","v","handleSelect","model","inputValue","callback","$$v","showInput","staticRenderFns","extends","props","popperWidth","type","default","watch","suggestionVisible","component","tags","data","components","ElAutocomplete2","Clickoutside","methods","cb","handleInputConfirm"],"mappings":"yHAAA,W,2DCAA,4BAGA,MAAMA,EAAW,GACXC,EAAM,wBAEZ,IAAIC,EACAC,EAAO,EAQX,SAASC,EAAsBC,EAAIC,EAASC,GAC1C,OAAO,SAASC,EAAU,GAAIC,EAAY,MACnCF,GACFA,EAAMG,SACNF,EAAQG,QACRF,EAAUE,SACXN,EAAGO,SAASJ,EAAQG,SACpBN,EAAGO,SAASH,EAAUE,SACtBN,IAAOG,EAAQG,QACdJ,EAAMG,QAAQG,YACdN,EAAMG,QAAQG,UAAUD,SAASJ,EAAQG,SAC1CJ,EAAMG,QAAQG,UAAUD,SAASH,EAAUE,WAEzCL,EAAQQ,YACVT,EAAGJ,GAAKc,YACRR,EAAMG,QAAQL,EAAGJ,GAAKc,YACtBR,EAAMG,QAAQL,EAAGJ,GAAKc,cAEtBV,EAAGJ,GAAKe,WAAaX,EAAGJ,GAAKe,eAxBlC,aAAIC,UAAUC,WAAa,eAAGC,SAAU,YAAaC,GAAMlB,EAAakB,IAExE,aAAIH,UAAUC,WAAa,eAAGC,SAAU,UAAWC,IAClDpB,EAASqB,QAAQC,GAAQA,EAAKrB,GAAKsB,gBAAgBH,EAAGlB,MAkCzC,QACb,KAAKG,EAAIC,EAASC,GAChBP,EAASwB,KAAKnB,GACd,MAAMoB,EAAKtB,IACXE,EAAGJ,GAAO,CACRwB,KACAF,gBAAiBnB,EAAsBC,EAAIC,EAASC,GACpDQ,WAAYT,EAAQQ,WACpBE,UAAWV,EAAQoB,QAIvB,OAAOrB,EAAIC,EAASC,GAClBF,EAAGJ,GAAKsB,gBAAkBnB,EAAsBC,EAAIC,EAASC,GAC7DF,EAAGJ,GAAKc,WAAaT,EAAQQ,WAC7BT,EAAGJ,GAAKe,UAAYV,EAAQoB,OAG9B,OAAOrB,GACL,IAAIsB,EAAM3B,EAAS4B,OAEnB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAKE,IACvB,GAAI7B,EAAS6B,GAAG5B,GAAKwB,KAAOpB,EAAGJ,GAAKwB,GAAI,CACtCzB,EAAS8B,OAAOD,EAAG,GACnB,aAGGxB,EAAGJ,M,yCCzEd,ICAI,EAAQ,EDAR8B,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACF,EAAII,GAAIJ,EAAIK,aAAa,SAASC,GAAK,OAAOJ,EAAG,SAAS,CAACK,IAAID,EAAIE,MAAM,CAAC,SAAW,GAAG,uBAAsB,GAAOC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIW,YAAYL,MAAQ,CAACN,EAAIY,GAAG,IAAIZ,EAAIa,GAAGP,GAAK,UAAUN,EAAIc,aAAcZ,EAAG,OAAO,CAACa,WAAW,CAAC,CAACC,KAAK,eAAeC,QAAQ,iBAAiBvB,MAAOM,EAAIkB,cAAepC,WAAW,mBAAmB,CAACoB,EAAG,kBAAkB,CAACiB,IAAI,eAAeC,YAAY,gBAAgBZ,MAAM,CAAC,eAAe,IAAI,KAAO,QAAQ,yBAAwB,EAAM,oBAAoBR,EAAIqB,YAAY,YAAc,SAASZ,GAAG,CAAC,OAAUa,GAAMtB,EAAIuB,aAAaD,EAAE5B,QAAQ8B,MAAM,CAAC9B,MAAOM,EAAIyB,WAAYC,SAAS,SAAUC,GAAM3B,EAAIyB,WAAWE,GAAK7C,WAAW,iBAAiB,GAAGoB,EAAG,YAAY,CAACkB,YAAY,iBAAiBZ,MAAM,CAAC,KAAO,SAASC,GAAG,CAAC,MAAQT,EAAI4B,YAAY,CAAC5B,EAAIY,GAAG,gBAAgB,IAEp4BiB,EAAkB,G,oCEAP,GACfb,uBACAc,0BACAC,OACAC,aACAC,YACAC,eAGAC,OACAC,qBACA,wBACA,MACA,wCACA,gEChB8V,I,YFO1VC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QGkCf,MAAMC,EAAO,CACb,aACA,cACA,aACA,cACA,eACA,cACA,cACA,gBACA,cACA,cACA,eACA,cACA,cACA,aACA,cACA,eACA,eACA,cACA,eACA,eAEe,OACfC,OACA,OACAlC,gCACAS,gBACAW,gBAGAe,YACAC,mBAEA1B,YAAA2B,qBACAC,SACAzB,gBACA,mBAGA,sBAGA,oCAEAK,gBACA,yBACA,qBACA,oBAEAF,iBACA,oBACA,mDAEAuB,MAEAjC,eACA,wDAGAiB,YACA,qBACA,mBACA,+CAIAiB,qBACA,sBACA,GACA,yBAEA,qBACA,sBC5H+V,ICQ3V,G,UAAY,eACd,EACA9C,EACA8B,GACA,EACA,KACA,WACA,OAIa,e","file":"js/autocomplete-tag-demo.085e3a76.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autocomplete-tag-demo.vue?vue&type=style&index=0&id=565c2044&prod&scoped=true&lang=css&\"","import Vue from 'vue';\nimport { on } from 'element-ui/src/utils/dom';\n\nconst nodeList = [];\nconst ctx = '@@clickoutsideContext';\n\nlet startClick;\nlet seed = 0;\n\n!Vue.prototype.$isServer && on(document, 'mousedown', e => (startClick = e));\n\n!Vue.prototype.$isServer && on(document, 'mouseup', e => {\n  nodeList.forEach(node => node[ctx].documentHandler(e, startClick));\n});\n\nfunction createDocumentHandler(el, binding, vnode) {\n  return function(mouseup = {}, mousedown = {}) {\n    if (!vnode ||\n      !vnode.context ||\n      !mouseup.target ||\n      !mousedown.target ||\n      el.contains(mouseup.target) ||\n      el.contains(mousedown.target) ||\n      el === mouseup.target ||\n      (vnode.context.popperElm &&\n      (vnode.context.popperElm.contains(mouseup.target) ||\n      vnode.context.popperElm.contains(mousedown.target)))) return;\n\n    if (binding.expression &&\n      el[ctx].methodName &&\n      vnode.context[el[ctx].methodName]) {\n      vnode.context[el[ctx].methodName]();\n    } else {\n      el[ctx].bindingFn && el[ctx].bindingFn();\n    }\n  };\n}\n\n/**\n * v-clickoutside\n * @desc 点击元素外面才会触发的事件\n * @example\n * ```vue\n * <div v-element-clickoutside=\"handleClose\">\n * ```\n */\nexport default {\n  bind(el, binding, vnode) {\n    nodeList.push(el);\n    const id = seed++;\n    el[ctx] = {\n      id,\n      documentHandler: createDocumentHandler(el, binding, vnode),\n      methodName: binding.expression,\n      bindingFn: binding.value\n    };\n  },\n\n  update(el, binding, vnode) {\n    el[ctx].documentHandler = createDocumentHandler(el, binding, vnode);\n    el[ctx].methodName = binding.expression;\n    el[ctx].bindingFn = binding.value;\n  },\n\n  unbind(el) {\n    let len = nodeList.length;\n\n    for (let i = 0; i < len; i++) {\n      if (nodeList[i][ctx].id === el[ctx].id) {\n        nodeList.splice(i, 1);\n        break;\n      }\n    }\n    delete el[ctx];\n  }\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._l((_vm.dynamicTags),function(tag){return _c('el-tag',{key:tag,attrs:{\"closable\":\"\",\"disable-transitions\":false},on:{\"close\":function($event){return _vm.handleClose(tag)}}},[_vm._v(\" \"+_vm._s(tag)+\" \")])}),(_vm.inputVisible)?_c('span',{directives:[{name:\"clickoutside\",rawName:\"v-clickoutside\",value:(_vm.closeTagInput),expression:\"closeTagInput\"}]},[_c('ElAutocomplete2',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"popper-width\":120,\"size\":\"small\",\"popper-append-to-body\":false,\"fetch-suggestions\":_vm.querySearch,\"placeholder\":\"请输入内容\"},on:{\"select\":(v) => _vm.handleSelect(v.value)},model:{value:(_vm.inputValue),callback:function ($$v) {_vm.inputValue=$$v},expression:\"inputValue\"}})],1):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.showInput}},[_vm._v(\"+ New Tag\")])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render, staticRenderFns\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { Autocomplete } from 'element-ui'\nexport default {\n  name: 'ElAutocomplete2',\n  extends: Autocomplete,\n  props: {\n    popperWidth: {\n      type: Number,\n      default: null\n    }\n  },\n  watch: {\n    suggestionVisible(val) {\n      const $input = this.getInput()\n      if ($input) {\n        const width = this.popperWidth || $input.offsetWidth\n        this.broadcast('ElAutocompleteSuggestions', 'visible', [val, width])\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<!-- 自动提示标签选择 -->\n<template>\n  <div>\n    <el-tag\n      :key=\"tag\"\n      v-for=\"tag in dynamicTags\"\n      closable\n      :disable-transitions=\"false\"\n      @close=\"handleClose(tag)\">\n      {{tag}}\n    </el-tag>\n    <!-- <el-input\n      class=\"input-new-tag\"\n      v-if=\"inputVisible\"\n      v-model=\"inputValue\"\n      ref=\"saveTagInput\"\n      size=\"small\"\n      @keyup.enter.native=\"handleInputConfirm\"\n      @blur=\"handleInputConfirm\"\n    >\n    </el-input> -->\n    <!-- @blur=\"closeTagInput\" -->\n    <span\n      v-clickoutside=\"closeTagInput\"\n      v-if=\"inputVisible\"\n    >\n      <ElAutocomplete2\n        :popper-width=\"120\"\n        ref=\"saveTagInput\"\n        class=\"input-new-tag\"\n        size=\"small\"\n        v-model=\"inputValue\"\n        \n        :popper-append-to-body=\"false\"\n        :fetch-suggestions=\"querySearch\"\n        placeholder=\"请输入内容\"\n        @select=\"(v) => handleSelect(v.value)\"\n      >\n      </ElAutocomplete2>\n    </span>\n    \n\n    <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput\">+ New Tag</el-button>\n\n    \n\n  </div>\n</template>\n\n<script>\nimport Clickoutside from 'element-ui/src/utils/clickoutside'\nimport ElAutocomplete2 from '@/components/Autocomplete2/index.vue'\nconst tags = [\n  {\"value\": \"轿车\"},\n  {\"value\": \"越野车\"},\n  {\"value\": \"跑车\"},\n  {\"value\": \"敞篷车\"},\n  {\"value\": \"家庭用车\"},\n  {\"value\": \"商务车\"},\n  {\"value\": \"电动车\"},\n  {\"value\": \"混合动力车\"},\n  {\"value\": \"自动挡\"},\n  {\"value\": \"手动挡\"},\n  {\"value\": \"多功能车\"},\n  {\"value\": \"SUV\"},\n  {\"value\": \"MPV\"},\n  {\"value\": \"皮卡\"},\n  {\"value\": \"大巴车\"},\n  {\"value\": \"小型货车\"},\n  {\"value\": \"重型货车\"},\n  {\"value\": \"二手车\"},\n  {\"value\": \"新能源车\"},\n  {\"value\": \"进口车\"}\n]\nexport default {\n  data() {\n    return {\n      dynamicTags: ['标签一', '标签二', '标签三'],\n      inputVisible: false,\n      inputValue: ''\n    };\n  },\n  components: {\n    ElAutocomplete2\n  },\n  directives: { Clickoutside },\n  methods: {\n    closeTagInput() {\n      if (!this.inputVisible) {\n        return\n      }\n      if (this.inputValue === '') {\n        return\n      }\n      this.handleSelect(this.inputValue)\n    },\n    handleSelect(item) {\n      this.dynamicTags.push(item);\n      this.inputVisible = false\n      this.inputValue = ''\n    },\n    querySearch(queryString, cb) {\n      const res = tags.filter(tag => {\n        return tag.value.toUpperCase().indexOf(queryString.toUpperCase()) > -1\n      })\n      cb(res);\n    },\n    handleClose(tag) {\n      this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1);\n    },\n\n    showInput() {\n      this.inputVisible = true;\n      this.$nextTick(_ => {\n        this.$refs.saveTagInput.$refs.input.focus();\n      });\n    },\n\n    handleInputConfirm() {\n      let inputValue = this.inputValue;\n      if (inputValue) {\n        this.dynamicTags.push(inputValue);\n      }\n      this.inputVisible = false;\n      this.inputValue = '';\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .el-tag + .el-tag {\n    margin-left: 10px;\n  }\n  .button-new-tag {\n    margin-left: 10px;\n    height: 32px;\n    line-height: 30px;\n    padding-top: 0;\n    padding-bottom: 0;\n  }\n  .input-new-tag {\n    width: 90px;\n    margin-left: 10px;\n    vertical-align: bottom;\n  }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autocomplete-tag-demo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autocomplete-tag-demo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./autocomplete-tag-demo.vue?vue&type=template&id=565c2044&scoped=true&\"\nimport script from \"./autocomplete-tag-demo.vue?vue&type=script&lang=js&\"\nexport * from \"./autocomplete-tag-demo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./autocomplete-tag-demo.vue?vue&type=style&index=0&id=565c2044&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"565c2044\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}