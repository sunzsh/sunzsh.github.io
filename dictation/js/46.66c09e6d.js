"use strict";(self["webpackChunkcn_dictation"]=self["webpackChunkcn_dictation"]||[]).push([[46],{8046:function(t,e,n){n.r(e),n.d(e,{default:function(){return B}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.closeCurBook,expression:"closeCurBook"}],staticClass:"cur_book",class:{open:t.curBook.opening}},[e("div",{staticClass:"cur_book-title",on:{click:function(e){t.curBook.opening=!t.curBook.opening}}},[e("i",{staticClass:"el-icon-notebook-2",staticStyle:{"margin-right":"0.4em"}}),t.curBook.value?[t._v(" "+t._s(t.curBook.value.name)+" ")]:[t._v(" 请选择教材 ")]],2),e("div",{staticClass:"booklist"},t._l(t.BOOKS,(function(n){return e("div",{key:n.name,staticClass:"book-item",on:{click:function(e){return t.changeBook(n)}}},[t._v(t._s(n.name))])})),0)]),e("div",{staticClass:"cur_book-mask",class:{open:t.curBook.opening}}),e("div",{staticClass:"unit_wrapper"},[t.errorCharsInThisBook&&t.errorCharsInThisBook.length>0?[e("div",{staticClass:"unit_item item_errorbook",on:{click:function(e){return t.selectErrorBook()}}},[t._m(0),e("div",{staticClass:"unit_item-subtitle"},[t._v(t._s((t.errorCharsInThisBook||[]).length)+"个")])])]:t._e(),t.curBook.value&&t.curBook.value.klasses.length>1?t._l(t.curBook.value.klasses,(function(n){return e("div",{key:n.title,staticClass:"unit_item",class:{selected:t.isSelectedUnit(n)},on:{click:function(e){return t.selectUnit(n)}}},[e("div",{staticClass:"unit_item-title"},[e("i",{staticClass:"el-icon-check check-icon"}),e("span",[t._v(t._s(n.title))])]),e("div",{staticClass:"unit_item-subtitle"},[t._v(t._s(n.newChars.length)+"个")])])})):t._e()],2),e("div",{staticClass:"startbtn",class:{showing:t.selectedUnit.length>0},on:{click:t.startDictation}},[t._v(" 开始听写"),e("span",{staticStyle:{"margin-left":"0.8em"}},[t._v(t._s(t.selectedCharCount)+"个生字")])])])},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"unit_item-title"},[e("i",{staticClass:"el-icon-check check-icon"}),e("span",[t._v("！！！错题本")])])}],s=(n(560),n(1829)),c=n(7981),r=n(7485);const a=r["default"].prototype.$isServer,l=(a||Number(document.documentMode),function(){return!a&&document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)}}());(function(){!a&&document.removeEventListener})();const u=[],d="@@clickoutsideContext";let h,k=0;function m(t,e,n){return function(i={},o={}){!(n&&n.context&&i.target&&o.target)||t.contains(i.target)||t.contains(o.target)||t===i.target||n.context.popperElm&&(n.context.popperElm.contains(i.target)||n.context.popperElm.contains(o.target))||(e.expression&&t[d].methodName&&n.context[t[d].methodName]?n.context[t[d].methodName]():t[d].bindingFn&&t[d].bindingFn())}}!r["default"].prototype.$isServer&&l(document,"mousedown",(t=>h=t)),!r["default"].prototype.$isServer&&l(document,"mouseup",(t=>{u.forEach((e=>e[d].documentHandler(t,h)))}));var v={bind(t,e,n){u.push(t);const i=k++;t[d]={id:i,documentHandler:m(t,e,n),methodName:e.expression,bindingFn:e.value}},update(t,e,n){t[d].documentHandler=m(t,e,n),t[d].methodName=e.expression,t[d].bindingFn=e.value},unbind(t){let e=u.length;for(let n=0;n<e;n++)if(u[n][d].id===t[d].id){u.splice(n,1);break}delete t[d]}},p={directives:{Clickoutside:v},data(){return{curBook:{opening:!1,value:null},selectedUnit:[],BOOKS:s.Z}},mounted(){1===s.Z.length&&this.changeBook(s.Z[0])},methods:{changeBook(t){this.curBook.value=t,this.curBook.opening=!1},closeCurBook(){this.curBook.opening=!1},selectUnit(t){const e=this.selectedUnit.findIndex((e=>e.title===t.title));e>-1?this.selectedUnit.splice(e,1):this.selectedUnit.push(t)},isSelectedUnit(t){return this.selectedUnit.findIndex((e=>e.title===t.title))>-1},selectErrorBook(){this.$router.replace({name:"OnDictation",params:{book:this.curBook.value,units:[{title:"错题本",newChars:this.errorCharsInThisBook}],inErrorMode:!0}})},startDictation(){0!==this.selectedUnit.length?this.$router.replace({name:"OnDictation",params:{book:this.curBook.value,units:this.selectedUnit,inErrorMode:!1}}):this.$message({message:"请选择单元",type:"warning"})}},computed:{selectedCharCount(){return this.selectedUnit.reduce(((t,e)=>t+e.newChars.length),0)},errorCharsInThisBook(){return(0,c.iK)(this.curBook.value)}}},g=p,_=n(1001),C=(0,_.Z)(g,i,o,!1,null,"48e14373",null),B=C.exports}}]);
//# sourceMappingURL=46.66c09e6d.js.map