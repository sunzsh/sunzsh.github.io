{"version":3,"file":"js/601.4bb2d5ae.js","mappings":"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","sources":["webpack://cn-dictation/./src/components/OnDictation.vue","webpack://cn-dictation/src/components/OnDictation.vue","webpack://cn-dictation/./src/components/OnDictation.vue?4f74","webpack://cn-dictation/./src/components/OnDictation.vue?392f"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"py cell_py\"}),_c('div',{staticClass:\"char cell\"}),_c('canvas',{ref:\"write\",staticClass:\"write\"})]),_c('transition',{attrs:{\"name\":\"el-fade-in-linear\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showingBtn),expression:\"showingBtn\"}],staticClass:\"btn-wrapper\"},[(_vm.currentCharIndex !== 0)?_c('div',{staticClass:\"btn\",on:{\"click\":_vm.prev}},[_c('i',{staticClass:\"el-icon-back\",staticStyle:{\"transform\":\"scale(1.5)\",\"font-weight\":\"bold\"}})]):_vm._e(),(_vm.step >= 0)?_c('div',{staticClass:\"btn\",on:{\"click\":_vm.clear}},[_c('i',{staticClass:\"el-icon-delete-solid\"})]):_vm._e(),(_vm.step >= 0)?_c('div',{staticClass:\"btn\",on:{\"click\":_vm.redo}},[_vm._v(\"撤销\")]):_vm._e(),(_vm.currentCharIndex !== (_vm.chars.length - 1))?_c('div',{staticClass:\"btn\",on:{\"click\":_vm.next}},[_c('i',{staticClass:\"el-icon-right\",staticStyle:{\"transform\":\"scale(1.5)\",\"font-weight\":\"bold\"}})]):_vm._e()])]),_c('transition',{attrs:{\"name\":\"el-fade-in-linear\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showingBtn),expression:\"showingBtn\"}],staticClass:\"btn-wrapper-sub\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){!_vm.audioLoading && _vm.playVoice()}}},[_c('i',{class:_vm.audioLoading ? 'el-icon-loading' : 'el-icon-caret-right',staticStyle:{\"transform\":\"scale(1.5)\"}})]),_c('div',{staticClass:\"btn\"},[_vm._v(_vm._s(_vm.currentCharIndex + 1)+\" / \"+_vm._s(_vm.chars.length))]),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.finish}},[_vm._v(\"检查\")])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"main\">\n    <div class=\"page\">\n      <div class=\"py cell_py\"></div>\n      <div class=\"char cell\"></div>\n      <canvas ref=\"write\" class=\"write\"></canvas>\n    </div>\n    <transition name=\"el-fade-in-linear\">\n    <div class=\"btn-wrapper\" v-show=\"showingBtn\">\n      <div class=\"btn\" @click=\"prev\" v-if=\"currentCharIndex !== 0\">\n        <i class=\"el-icon-back\" style=\"transform: scale(1.5); font-weight: bold;\"/>\n      </div>\n      <div class=\"btn\" @click=\"clear\" v-if=\"step >= 0\">\n        <i class=\"el-icon-delete-solid\" />\n      </div>\n      <div class=\"btn\" @click=\"redo\" v-if=\"step >= 0\">撤销</div>\n      <div class=\"btn\" @click=\"next\" v-if=\"currentCharIndex !== (chars.length - 1)\">\n        <i class=\"el-icon-right\" style=\"transform: scale(1.5); font-weight: bold;\"/>\n      </div>\n    </div>\n    </transition>\n\n    <transition name=\"el-fade-in-linear\">\n    <div class=\"btn-wrapper-sub\" v-show=\"showingBtn\">\n      <div class=\"btn\" @click=\"!audioLoading && playVoice()\">\n        <i :class=\"audioLoading ? 'el-icon-loading' : 'el-icon-caret-right'\" style=\"transform: scale(1.5);\"/>\n      </div>\n      <div class=\"btn\">{{ currentCharIndex + 1 }} / {{ chars.length }}</div>\n      <div class=\"btn\" @click=\"finish\">检查</div>\n    </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      step: -1,\n      imgList: [],\n      isMobile: false,\n      writing: false,\n      currentCharIndex: 0,\n      charts_writed: [],\n      audio: null,\n      audioLoading: false,\n      showingBtn: true,\n      showingTimeout: null\n    }\n  },\n  watch: {\n    writing(value) {\n      if (value) {\n        this.showingTimeout && clearTimeout(this.showingTimeout)\n        this.showingBtn = false\n      } else {\n        this.showingTimeout && clearTimeout(this.showingTimeout)\n        this.showingTimeout = setTimeout(() => {\n          this.showingBtn = true\n          this.showingTimeout = null\n        }, 600);\n      }\n    }\n  },\n  mounted() {\n    if (!this.$route.params.book) {\n      this.$router.replace({\n        name: 'HomeCenter'\n      })\n    }\n\n    addEventListener(\"resize\", this.resetWriteSize);\n    //判断是否手机端\n    try {\n      document.createEvent(\"TouchEvent\");\n      this.isMobile = true;\n    } catch (e) { \n      this.isMobile = false;\n    }\n    this.initWrite()\n      \n  },\n  destroyed() {\n    removeEventListener(\"resize\", this.resetWriteSize);\n  },\n  methods: {\n    resetWriteSize() {\n      var c = this.$refs.write;\n      c.width = c.offsetWidth;\n      c.height = c.offsetHeight;\n      this.newestDrawFromHistory();\n    },\n    initWrite() {\n      var c = this.$refs.write;\n      var ctx = c.getContext(\"2d\");\n      this.resetWriteSize()\n      const mousedown = (e) => {\n          // let x = e.clientX - this.writeOffset.x;\n          // let y = e.clientY - this.writeOffset.y;\n          this.writing = true;\n          let x = e.offsetX;\n          let y = e.offsetY;\n          let mousemove = (e) => {\n              // var newX = e.clientX - this.writeOffset.x;\n              // var newY = e.clientY - this.writeOffset.y;\n              var newX = e.offsetX;\n              var newY = e.offsetY;\n              ctx.moveTo(x, y);\n              ctx.lineTo(newX, newY);\n              ctx.strokeStyle = '#222222';\n              // 线宽设置，必须放在绘制之前\n              ctx.lineWidth = 8;\n              ctx.stroke();\n              x = newX;\n              y = newY;\n          }\n          if (this.isMobile) {\n            c.onpointermove = mousemove;\n          } else {\n            c.onmousemove = mousemove;\n          }\n      }\n      const mouseout = () => {\n        if (c.onmousemove) {\n          // 保存历史记录\n          this.history()\n        }\n        this.writing = false;\n        c.onmousemove = null;\n        c.onpointermove = null;\n      }\n      const mouseup = () => {\n        c.onmousemove = null;\n        c.onpointermove = null;\n        this.writing = false;\n        // 节流保存历史记录\n        this.history()\n      }\n\n      if (this.isMobile) {\n        c.onpointerdown = mousedown\n        c.onpointerout = mouseout\n        c.onpointerup = mouseup\n      } else {\n        c.onmousedown = mousedown\n        c.onmouseout = mouseout\n        c.onmouseup = mouseup\n      }\n\n      this.playVoice()\n\n    },\n    redo() {\n      if(this.step >= 0){\n        this.step--\n        this.$refs.write.width = this.$refs.write.offsetWidth;\n\n        var c = this.$refs.write;\n        var ctx = c.getContext(\"2d\");\n        var img = new Image()\n        img.src = this.imgList[this.step]\n        img.onload = ()=>{ ctx.drawImage(img,0,0,this.$refs.write.offsetWidth, this.$refs.write.offsetHeight) }  //从数组中调取历史记录，进行重绘\n      }else{\n        alert('没有上一步了')\n      }\n    },\n    drawImg(imgSrc) {\n      if (!imgSrc) {\n        return\n      }\n      var img = new Image()\n      img.width = this.$refs.write.offsetWidth\n      img.height = this.$refs.write.offsetHeight\n      img.src = imgSrc;\n      var c = this.$refs.write;\n      var ctx = c.getContext(\"2d\");\n      img.onload= ()=>{ctx.drawImage(img,0,0, this.$refs.write.offsetWidth, this.$refs.write.offsetHeight)}\n    },\n    newestDrawFromHistory() {\n      this.drawImg(this.imgList[this.step]);\n    },\n    clear() {\n      this.step = -1\n      this.imgList = []\n      this.$refs.write.width = this.$refs.write.offsetWidth;\n    },\n    history(){\n      this.step++\n      if(this.step < this.imgList.length){\n        this.imgList.length = this.step \n      }\n      this.imgList.push(this.$refs.write.toDataURL('image/png'))\n    },\n    playVoice() {\n      if(this.audio && !this.audio.paused) {\n        this.audio.pause();\n        this.audio.currentTime = 0;\n        this.audio = null;\n        this.audioLoading = false;\n      }\n      const voiceUrl = this.chars[this.currentCharIndex] && this.chars[this.currentCharIndex].v;\n      if (!voiceUrl) {\n        return\n      }\n      // 播放声音\n      this.audio = new Audio('./' + voiceUrl);\n\n      this.audioLoading = true\n      this.audio.play().then(() => {\n        this.audioLoading = false;\n      }).catch(() => {\n        // this.audioLoading = false;\n      })\n      // this.audioLoading = true\n      // this.audio.onloadeddata = () => {\n      //   this.audioLoading = false;\n      // }\n    },\n    prev() {\n      this.saveCurrent();\n      this.clear();\n      this.currentCharIndex--;\n      this.loadCurrentIfExists();\n      this.playVoice();\n    },\n    next() {\n      this.saveCurrent();\n      this.clear();\n      this.currentCharIndex++;\n      this.loadCurrentIfExists();\n      this.playVoice();\n    },\n    loadCurrentIfExists() {\n      if (!this.charts_writed[this.currentCharIndex]) {\n        return;\n      }\n      this.imgList = this.charts_writed[this.currentCharIndex].imgList\n      this.step = this.charts_writed[this.currentCharIndex].step\n      this.drawImg(this.charts_writed[this.currentCharIndex].writeImg)\n    },\n    saveCurrent() {\n      const writeImg = this.$refs.write.toDataURL('image/png')\n      this.charts_writed[this.currentCharIndex] = {\n        char: this.chars[this.currentCharIndex],\n        writeImg,\n        imgList: this.imgList,\n        step: this.step\n      }\n    },\n    finish() {\n      this.saveCurrent()\n      this.$router.replace({\n        name: 'ShowResult',\n        params: {\n          result: this.charts_writed,\n          inErrorMode: this.$route.params.inErrorMode\n        }\n      })\n    }\n  },\n  computed: {\n    chars: function() {\n      const resultChars = []\n      if (!this.$route.params.units) {\n        return []\n      }\n      for (const unit of this.$route.params.units) {\n        resultChars.push(...unit.newChars)\n      }\n      return resultChars\n    }\n    \n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.cell {\n    position: relative;\n    &::before, &::after {\n      content: '';\n      position: absolute;\n    }\n\n    &::before {\n      width: 50%; /* 线条宽度 */\n      height: 100%; /* 线条高度 */\n      top: 0px;\n      left: 0px;\n      // 虚线\n      border-right: dashed 2px var(--line-color);\n    }\n\n    &::after {\n      width: 100%; /* 线条宽度 */\n      height: 50%; /* 线条高度 */\n      top: 0px;\n      left: 0px;\n      // 虚线\n      border-bottom: dashed 2px var(--line-color);\n    }\n}\n\n.cell_py {\n    position: relative;\n    &::before, &::after {\n      content: '';\n      position: absolute;\n    }\n\n    &::before {\n      width: 100%; /* 线条宽度 */\n      height: 33%; /* 线条高度 */\n      top: 0px;\n      left: 0px;\n      // 虚线\n      border-bottom: dashed 2px var(--line-color);\n    }\n\n    &::after {\n      width: 100%; /* 线条宽度 */\n      height: 70%; /* 线条高度 */\n      top: 0px;\n      left: 0px;\n      // 虚线\n      border-bottom: dashed 2px var(--line-color);\n    }\n}\n\n.main {\n  user-select: none;\n  font-size: 18px;\n  height: 100%;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .page {\n    --line-color: #38a700;\n    margin: auto;\n    aspect-ratio: 2 / 3;\n    box-sizing: border-box;\n    box-shadow: 0 0 10px rgba(0, 0, 0, .5);\n    border: solid 10px var(--line-color);\n    background-color: #fff;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    user-select: none;\n    .py {\n      flex: 1;\n      border-bottom: solid 4px var(--line-color);\n      user-select: none;\n    }\n    .char {\n      flex: 2;\n      user-select: none;\n    }\n    .write {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      touch-action: none;\n      user-select: none;\n    }\n  }\n  .btn-wrapper {\n    position: fixed;\n    bottom: 50%;\n    right: 2.5em;\n    display: flex;\n    flex-direction: column;\n    transform: translateY(50%);\n    .btn+.btn {\n      margin-top: 0.5em;\n    }\n    .btn {\n      height: 1.5em;\n      line-height: 1.5em;\n      border-radius: calc(infinity * 1px);\n      background-color: #fff;\n      box-shadow: 0 0 10px rgba(0, 0, 0, .2);\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-size: 1.1em;\n      font-weight: bold;\n      padding: 0.6em 1.5em;\n      color: #ff7e5f;\n      cursor: pointer;\n      user-select: none;\n      white-space: nowrap;\n    }\n  }\n  .btn-wrapper-sub {\n    position: fixed;\n    top: 50%;\n    left: 2.5em;\n    transform: translateY(-50%);\n    display: flex;\n    flex-direction: column;\n    .btn+.btn {\n      margin-top: 0.5em;\n    }\n    .btn {\n      height: 1.5em;\n      line-height: 1.5em;\n      border-radius: calc(infinity * 1px);\n      background-color: #fff;\n      box-shadow: 0 0 10px rgba(0, 0, 0, .2);\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-size: 1.1em;\n      font-weight: bold;\n      padding: 0.6em 1.5em;\n      color: #ff7e5f;\n      cursor: pointer;\n      user-select: none;\n      white-space: nowrap;\n    }\n  }\n}\n@media screen and (max-aspect-ratio: 2/3) {\n  .page {\n    width: calc(100vw - 3em);\n  }\n\n  .btn-wrapper-sub.btn-wrapper-sub {\n    top: 1.3em;\n    left: 50%;\n    flex-direction: row;\n    .btn+.btn {\n      margin-top: 0;\n      margin-left: 0.5em;\n    }\n    .btn {\n      transform: translateY(0%);\n    }\n    transform: translateX(-50%);\n  }\n  \n  .btn-wrapper.btn-wrapper {\n    bottom: 1.4em;\n    right: 50%;\n    flex-direction: row;\n    .btn+.btn {\n      margin-top: 0;\n      margin-left: 0.5em;\n    }\n    .btn {\n      transform: translateY(0%);\n    }\n    transform: translateX(50%);\n  }\n}\n\n@media screen and (min-aspect-ratio: 2/3) {\n  .page {\n    height: calc(100vh - 3em);\n  }\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OnDictation.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OnDictation.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OnDictation.vue?vue&type=template&id=6ac0300c&scoped=true\"\nimport script from \"./OnDictation.vue?vue&type=script&lang=js\"\nexport * from \"./OnDictation.vue?vue&type=script&lang=js\"\nimport style0 from \"./OnDictation.vue?vue&type=style&index=0&id=6ac0300c&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ac0300c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","directives","name","rawName","value","showingBtn","expression","currentCharIndex","on","prev","staticStyle","_e","step","clear","redo","_v","chars","length","next","$event","audioLoading","playVoice","class","_s","finish","staticRenderFns","data","imgList","isMobile","writing","charts_writed","audio","showingTimeout","watch","clearTimeout","setTimeout","mounted","$route","params","book","$router","replace","addEventListener","resetWriteSize","document","createEvent","e","initWrite","destroyed","removeEventListener","methods","c","$refs","write","width","offsetWidth","height","offsetHeight","newestDrawFromHistory","ctx","getContext","mousedown","x","offsetX","y","offsetY","mousemove","newX","newY","moveTo","lineTo","strokeStyle","lineWidth","stroke","onpointermove","onmousemove","mouseout","history","mouseup","onpointerdown","onpointerout","onpointerup","onmousedown","onmouseout","onmouseup","img","Image","src","onload","drawImage","alert","drawImg","imgSrc","push","toDataURL","paused","pause","currentTime","voiceUrl","v","Audio","play","then","catch","saveCurrent","loadCurrentIfExists","writeImg","char","result","inErrorMode","computed","resultChars","units","unit","newChars","component"],"sourceRoot":""}