{"version":3,"file":"js/46.66c09e6d.js","mappings":"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","sources":["webpack://cn-dictation/./src/components/HomeCenter.vue","webpack://cn-dictation/./node_modules/element-ui/src/utils/dom.js","webpack://cn-dictation/./node_modules/element-ui/src/utils/clickoutside.js","webpack://cn-dictation/src/components/HomeCenter.vue","webpack://cn-dictation/./src/components/HomeCenter.vue?b337","webpack://cn-dictation/./src/components/HomeCenter.vue?947c"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main\"},[_c('div',{directives:[{name:\"clickoutside\",rawName:\"v-clickoutside\",value:(_vm.closeCurBook),expression:\"closeCurBook\"}],staticClass:\"cur_book\",class:{'open': _vm.curBook.opening }},[_c('div',{staticClass:\"cur_book-title\",on:{\"click\":function($event){_vm.curBook.opening=!_vm.curBook.opening}}},[_c('i',{staticClass:\"el-icon-notebook-2\",staticStyle:{\"margin-right\":\"0.4em\"}}),(!_vm.curBook.value)?[_vm._v(\" 请选择教材 \")]:[_vm._v(\" \"+_vm._s(_vm.curBook.value.name)+\" \")]],2),_c('div',{staticClass:\"booklist\"},_vm._l((_vm.BOOKS),function(book){return _c('div',{key:book.name,staticClass:\"book-item\",on:{\"click\":function($event){return _vm.changeBook(book)}}},[_vm._v(_vm._s(book.name))])}),0)]),_c('div',{staticClass:\"cur_book-mask\",class:{'open': _vm.curBook.opening }}),_c('div',{staticClass:\"unit_wrapper\"},[(_vm.errorCharsInThisBook && _vm.errorCharsInThisBook.length > 0)?[_c('div',{staticClass:\"unit_item item_errorbook\",on:{\"click\":function($event){return _vm.selectErrorBook()}}},[_vm._m(0),_c('div',{staticClass:\"unit_item-subtitle\"},[_vm._v(_vm._s((_vm.errorCharsInThisBook||[]).length)+\"个\")])])]:_vm._e(),(_vm.curBook.value && _vm.curBook.value.klasses.length > 1)?_vm._l((_vm.curBook.value.klasses),function(unit){return _c('div',{key:unit.title,staticClass:\"unit_item\",class:{'selected': _vm.isSelectedUnit(unit) },on:{\"click\":function($event){return _vm.selectUnit(unit)}}},[_c('div',{staticClass:\"unit_item-title\"},[_c('i',{staticClass:\"el-icon-check check-icon\"}),_c('span',[_vm._v(_vm._s(unit.title))])]),_c('div',{staticClass:\"unit_item-subtitle\"},[_vm._v(_vm._s(unit.newChars.length)+\"个\")])])}):_vm._e()],2),_c('div',{staticClass:\"startbtn\",class:{'showing': _vm.selectedUnit.length > 0},on:{\"click\":_vm.startDictation}},[_vm._v(\" 开始听写\"),_c('span',{staticStyle:{\"margin-left\":\"0.8em\"}},[_vm._v(_vm._s(_vm.selectedCharCount)+\"个生字\")])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"unit_item-title\"},[_c('i',{staticClass:\"el-icon-check check-icon\"}),_c('span',[_vm._v(\"！！！错题本\")])])\n}]\n\nexport { render, staticRenderFns }","/* istanbul ignore next */\n\nimport Vue from 'vue';\n\nconst isServer = Vue.prototype.$isServer;\nconst SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g;\nconst MOZ_HACK_REGEXP = /^moz([A-Z])/;\nconst ieVersion = isServer ? 0 : Number(document.documentMode);\n\n/* istanbul ignore next */\nconst trim = function(string) {\n  return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '');\n};\n/* istanbul ignore next */\nconst camelCase = function(name) {\n  return name.replace(SPECIAL_CHARS_REGEXP, function(_, separator, letter, offset) {\n    return offset ? letter.toUpperCase() : letter;\n  }).replace(MOZ_HACK_REGEXP, 'Moz$1');\n};\n\n/* istanbul ignore next */\nexport const on = (function() {\n  if (!isServer && document.addEventListener) {\n    return function(element, event, handler) {\n      if (element && event && handler) {\n        element.addEventListener(event, handler, false);\n      }\n    };\n  } else {\n    return function(element, event, handler) {\n      if (element && event && handler) {\n        element.attachEvent('on' + event, handler);\n      }\n    };\n  }\n})();\n\n/* istanbul ignore next */\nexport const off = (function() {\n  if (!isServer && document.removeEventListener) {\n    return function(element, event, handler) {\n      if (element && event) {\n        element.removeEventListener(event, handler, false);\n      }\n    };\n  } else {\n    return function(element, event, handler) {\n      if (element && event) {\n        element.detachEvent('on' + event, handler);\n      }\n    };\n  }\n})();\n\n/* istanbul ignore next */\nexport const once = function(el, event, fn) {\n  var listener = function() {\n    if (fn) {\n      fn.apply(this, arguments);\n    }\n    off(el, event, listener);\n  };\n  on(el, event, listener);\n};\n\n/* istanbul ignore next */\nexport function hasClass(el, cls) {\n  if (!el || !cls) return false;\n  if (cls.indexOf(' ') !== -1) throw new Error('className should not contain space.');\n  if (el.classList) {\n    return el.classList.contains(cls);\n  } else {\n    return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1;\n  }\n};\n\n/* istanbul ignore next */\nexport function addClass(el, cls) {\n  if (!el) return;\n  var curClass = el.className;\n  var classes = (cls || '').split(' ');\n\n  for (var i = 0, j = classes.length; i < j; i++) {\n    var clsName = classes[i];\n    if (!clsName) continue;\n\n    if (el.classList) {\n      el.classList.add(clsName);\n    } else if (!hasClass(el, clsName)) {\n      curClass += ' ' + clsName;\n    }\n  }\n  if (!el.classList) {\n    el.setAttribute('class', curClass);\n  }\n};\n\n/* istanbul ignore next */\nexport function removeClass(el, cls) {\n  if (!el || !cls) return;\n  var classes = cls.split(' ');\n  var curClass = ' ' + el.className + ' ';\n\n  for (var i = 0, j = classes.length; i < j; i++) {\n    var clsName = classes[i];\n    if (!clsName) continue;\n\n    if (el.classList) {\n      el.classList.remove(clsName);\n    } else if (hasClass(el, clsName)) {\n      curClass = curClass.replace(' ' + clsName + ' ', ' ');\n    }\n  }\n  if (!el.classList) {\n    el.setAttribute('class', trim(curClass));\n  }\n};\n\n/* istanbul ignore next */\nexport const getStyle = ieVersion < 9 ? function(element, styleName) {\n  if (isServer) return;\n  if (!element || !styleName) return null;\n  styleName = camelCase(styleName);\n  if (styleName === 'float') {\n    styleName = 'styleFloat';\n  }\n  try {\n    switch (styleName) {\n      case 'opacity':\n        try {\n          return element.filters.item('alpha').opacity / 100;\n        } catch (e) {\n          return 1.0;\n        }\n      default:\n        return (element.style[styleName] || element.currentStyle ? element.currentStyle[styleName] : null);\n    }\n  } catch (e) {\n    return element.style[styleName];\n  }\n} : function(element, styleName) {\n  if (isServer) return;\n  if (!element || !styleName) return null;\n  styleName = camelCase(styleName);\n  if (styleName === 'float') {\n    styleName = 'cssFloat';\n  }\n  try {\n    var computed = document.defaultView.getComputedStyle(element, '');\n    return element.style[styleName] || computed ? computed[styleName] : null;\n  } catch (e) {\n    return element.style[styleName];\n  }\n};\n\n/* istanbul ignore next */\nexport function setStyle(element, styleName, value) {\n  if (!element || !styleName) return;\n\n  if (typeof styleName === 'object') {\n    for (var prop in styleName) {\n      if (styleName.hasOwnProperty(prop)) {\n        setStyle(element, prop, styleName[prop]);\n      }\n    }\n  } else {\n    styleName = camelCase(styleName);\n    if (styleName === 'opacity' && ieVersion < 9) {\n      element.style.filter = isNaN(value) ? '' : 'alpha(opacity=' + value * 100 + ')';\n    } else {\n      element.style[styleName] = value;\n    }\n  }\n};\n\nexport const isScroll = (el, vertical) => {\n  if (isServer) return;\n\n  const determinedDirection = vertical !== null && vertical !== undefined;\n  const overflow = determinedDirection\n    ? vertical\n      ? getStyle(el, 'overflow-y')\n      : getStyle(el, 'overflow-x')\n    : getStyle(el, 'overflow');\n\n  return overflow.match(/(scroll|auto|overlay)/);\n};\n\nexport const getScrollContainer = (el, vertical) => {\n  if (isServer) return;\n\n  let parent = el;\n  while (parent) {\n    if ([window, document, document.documentElement].includes(parent)) {\n      return window;\n    }\n    if (isScroll(parent, vertical)) {\n      return parent;\n    }\n    parent = parent.parentNode;\n  }\n\n  return parent;\n};\n\nexport const isInContainer = (el, container) => {\n  if (isServer || !el || !container) return false;\n\n  const elRect = el.getBoundingClientRect();\n  let containerRect;\n\n  if ([window, document, document.documentElement, null, undefined].includes(container)) {\n    containerRect = {\n      top: 0,\n      right: window.innerWidth,\n      bottom: window.innerHeight,\n      left: 0\n    };\n  } else {\n    containerRect = container.getBoundingClientRect();\n  }\n\n  return elRect.top < containerRect.bottom &&\n    elRect.bottom > containerRect.top &&\n    elRect.right > containerRect.left &&\n    elRect.left < containerRect.right;\n};\n","import Vue from 'vue';\nimport { on } from 'element-ui/src/utils/dom';\n\nconst nodeList = [];\nconst ctx = '@@clickoutsideContext';\n\nlet startClick;\nlet seed = 0;\n\n!Vue.prototype.$isServer && on(document, 'mousedown', e => (startClick = e));\n\n!Vue.prototype.$isServer && on(document, 'mouseup', e => {\n  nodeList.forEach(node => node[ctx].documentHandler(e, startClick));\n});\n\nfunction createDocumentHandler(el, binding, vnode) {\n  return function(mouseup = {}, mousedown = {}) {\n    if (!vnode ||\n      !vnode.context ||\n      !mouseup.target ||\n      !mousedown.target ||\n      el.contains(mouseup.target) ||\n      el.contains(mousedown.target) ||\n      el === mouseup.target ||\n      (vnode.context.popperElm &&\n      (vnode.context.popperElm.contains(mouseup.target) ||\n      vnode.context.popperElm.contains(mousedown.target)))) return;\n\n    if (binding.expression &&\n      el[ctx].methodName &&\n      vnode.context[el[ctx].methodName]) {\n      vnode.context[el[ctx].methodName]();\n    } else {\n      el[ctx].bindingFn && el[ctx].bindingFn();\n    }\n  };\n}\n\n/**\n * v-clickoutside\n * @desc 点击元素外面才会触发的事件\n * @example\n * ```vue\n * <div v-element-clickoutside=\"handleClose\">\n * ```\n */\nexport default {\n  bind(el, binding, vnode) {\n    nodeList.push(el);\n    const id = seed++;\n    el[ctx] = {\n      id,\n      documentHandler: createDocumentHandler(el, binding, vnode),\n      methodName: binding.expression,\n      bindingFn: binding.value\n    };\n  },\n\n  update(el, binding, vnode) {\n    el[ctx].documentHandler = createDocumentHandler(el, binding, vnode);\n    el[ctx].methodName = binding.expression;\n    el[ctx].bindingFn = binding.value;\n  },\n\n  unbind(el) {\n    let len = nodeList.length;\n\n    for (let i = 0; i < len; i++) {\n      if (nodeList[i][ctx].id === el[ctx].id) {\n        nodeList.splice(i, 1);\n        break;\n      }\n    }\n    delete el[ctx];\n  }\n};\n","<template>\n  <div class=\"main\">\n    <!-- 选择教材 -->\n    <div class=\"cur_book\" :class=\"{'open': curBook.opening }\" v-clickoutside=\"closeCurBook\">\n      <div class=\"cur_book-title\" @click=\"curBook.opening=!curBook.opening\">\n        <i class=\"el-icon-notebook-2\" style=\"margin-right:0.4em\"></i>\n        <template v-if=\"!curBook.value\">\n          请选择教材\n        </template>\n        <template v-else>\n          {{ curBook.value.name }}\n        </template>\n      </div>\n      <div class=\"booklist\">\n        <div v-for=\"(book) in BOOKS\" :key=\"book.name\" class=\"book-item\" @click=\"changeBook(book)\">{{ book.name }}</div>\n      </div>\n    </div>\n    <div class=\"cur_book-mask\" :class=\"{'open': curBook.opening }\"></div>\n    <div class=\"unit_wrapper\">\n      <template v-if=\"errorCharsInThisBook && errorCharsInThisBook.length > 0\">\n        <div class=\"unit_item item_errorbook\" @click=\"selectErrorBook()\">\n          <div class=\"unit_item-title\">\n            <i class=\"el-icon-check check-icon\"></i>\n            <span>！！！错题本</span>\n          </div>\n          <div class=\"unit_item-subtitle\">{{(errorCharsInThisBook||[]).length}}个</div>\n        </div>\n      </template>\n      <template v-if=\"curBook.value && curBook.value.klasses.length > 1\">\n        <div v-for=\"(unit) in curBook.value.klasses\" :key=\"unit.title\" class=\"unit_item\" :class=\"{'selected': isSelectedUnit(unit) }\" @click=\"selectUnit(unit)\">\n          <div class=\"unit_item-title\">\n            <i class=\"el-icon-check check-icon\"></i>\n            <span>{{unit.title}}</span>\n          </div>\n          <div class=\"unit_item-subtitle\">{{unit.newChars.length}}个</div>\n        </div>\n      </template>\n    </div>\n    <div class=\"startbtn\" :class=\"{'showing': selectedUnit.length > 0}\" @click=\"startDictation\">\n      开始听写<span style=\"margin-left: 0.8em\">{{selectedCharCount}}个生字</span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BOOKS from '@/books'\nimport { getErrorCharsByBook } from '@/service/ErrorBookService'\nimport Clickoutside from 'element-ui/src/utils/clickoutside'\nexport default {\n  directives: { Clickoutside },\n  data() {\n    return {\n      curBook: {\n        opening: false,\n        value: null\n      },\n      selectedUnit: [],\n      BOOKS\n    }\n  },\n  mounted() {\n    if (BOOKS.length === 1) {\n      this.changeBook(BOOKS[0])\n    }\n  },\n  methods: {\n    changeBook(book) {\n      this.curBook.value = book\n      this.curBook.opening = false\n    },\n    closeCurBook() {\n      this.curBook.opening = false\n    },\n    selectUnit(unit) {\n      const index = this.selectedUnit.findIndex(item => item.title === unit.title)\n      if (index > -1) {\n        this.selectedUnit.splice(index, 1)\n      } else {\n        this.selectedUnit.push(unit)\n      }\n    },\n    isSelectedUnit(unit) {\n      return this.selectedUnit.findIndex(item => item.title === unit.title) > -1\n    },\n    selectErrorBook() {\n      this.$router.replace({\n        name: 'OnDictation',\n        params: {\n          book: this.curBook.value,\n          units: [{ 'title': '错题本', 'newChars': this.errorCharsInThisBook }],\n          inErrorMode: true\n        }\n      })\n    },\n    startDictation() {\n      if (this.selectedUnit.length === 0) {\n        this.$message({\n          message: '请选择单元',\n          type: 'warning'\n        })\n        return\n      }\n      this.$router.replace({\n        name: 'OnDictation',\n        params: {\n          book: this.curBook.value,\n          units: this.selectedUnit,\n          inErrorMode: false\n        }\n      })\n    \n    }\n  },\n  computed: {\n    selectedCharCount() {\n      return this.selectedUnit.reduce((total, unit) => {\n        return total + unit.newChars.length\n      }, 0)\n    },\n    errorCharsInThisBook() {\n      return getErrorCharsByBook(this.curBook.value);\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.main {\n  font-size: 18px;\n  height: 100%;\n  box-sizing: border-box;\n  padding-top: 4.9em;\n  padding-left: 2em;\n  padding-right: 2em;\n  display: flex;\n  flex-direction: column;\n\n  .cur_book-mask {\n    position: fixed;\n    z-index: 99;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    background-color: rgb(0,0,0);\n    opacity: 0;\n    transition: opacity 0.3s ease-in-out;\n    pointer-events: none;\n    &.open {\n      opacity: 0.7;\n      pointer-events: all;\n    }\n  }\n  .cur_book {\n    --titleHeight: 3.4em;\n    flex-shrink: 0;\n    background-color: #ffffff;\n    border-radius: 0.5em;\n    box-shadow: 0 0.5em 1em rgba(0, 0, 0, 0.2);\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    height: var(--titleHeight);\n    transition: height 0.2s ease-in-out;\n    position: fixed;\n    z-index: 100;\n    top: 1.5em;\n    width: calc(100% - 4em);\n    .booklist {\n      width: 100%;\n      flex: 1;\n      display: flex;\n      flex-wrap: wrap;\n      align-content: flex-start;\n      overflow: auto;\n      .book-item {\n        -webkit-tap-highlight-color: transparent;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 50%;\n        cursor: pointer;\n        user-select: none;\n        height: 5em;\n        &:hover {\n          background-color: #f5f5f5;\n        }\n      }\n    }\n    .cur_book-title {\n      -webkit-tap-highlight-color: transparent;\n      height: var(--titleHeight);\n      flex-shrink: 0;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      user-select: none;\n    }\n    &.open {\n      height: 40vh;\n    }\n\n  }\n  .unit_wrapper {\n    flex: 1;\n    margin-top: 1.5em;\n    margin-bottom: 1.5em;\n    background-color: #fff;\n    border-radius: 0.5em;\n    box-shadow: 0 0.5em 1em rgba(0, 0, 0, 0.2);\n    overflow: auto;\n    display: flex;\n    flex-direction: column;\n    user-select: none;\n    .unit_item {\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      padding: 0.9em 0.8em;\n      border-bottom: 1px solid #ececec;\n      justify-content: space-between;\n      cursor: pointer;\n      &.selected {\n        background-color: #ff7f5f66;\n        border-bottom-color: #ff7f5f66;\n        .unit_item-title .check-icon {\n          display: inline-block;\n        }\n      }\n      .unit_item-title {\n        // 不换行，超出省略号\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        margin-right: .5em;\n        .check-icon {\n          color: #ff3300;\n          font-weight: 500;\n          margin-right: 0.8em;\n          transform: scale(1.5);\n          display: none;\n        }\n      }\n      .unit_item-subtitle {\n        color: #999999;\n        white-space: nowrap;\n        overflow: hidden;\n        flex-shrink: 0;\n      }\n      &.item_errorbook {\n        color: #ff0000;\n        font-weight: bold;\n        .unit_item-subtitle {\n          color: #ff0000;\n        }\n      }\n    }\n  }\n  .startbtn {\n    position: fixed;\n    bottom: -3em;\n    left: 50%;\n    transform: translateX(-50%);\n    background-color: #ff7f5f;\n    color: #fff;\n    font-size: 1.2em;\n    padding: 0.8em 1.5em;\n    border-radius: 1.5em;\n    box-shadow: 0 0.5em 1em rgba(0, 0, 0, 0.2);\n    cursor: pointer;\n    user-select: none;\n    transition: bottom 0.1s ease-in-out, opacity 0.1s ease-in-out;\n    // 不换行\n    white-space: nowrap;\n    opacity: 0;\n\n    &:hover {\n      background-color: #f9633d;\n    }\n    &.showing {\n      bottom: 2em;\n      opacity: 1;\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeCenter.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeCenter.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HomeCenter.vue?vue&type=template&id=48e14373&scoped=true\"\nimport script from \"./HomeCenter.vue?vue&type=script&lang=js\"\nexport * from \"./HomeCenter.vue?vue&type=script&lang=js\"\nimport style0 from \"./HomeCenter.vue?vue&type=style&index=0&id=48e14373&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48e14373\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","directives","name","rawName","value","closeCurBook","expression","class","curBook","opening","on","$event","staticStyle","_v","_s","_l","BOOKS","book","key","changeBook","errorCharsInThisBook","length","selectErrorBook","_m","_e","klasses","unit","title","isSelectedUnit","selectUnit","newChars","selectedUnit","startDictation","selectedCharCount","staticRenderFns","isServer","Vue","prototype","$isServer","Number","document","documentMode","addEventListener","element","event","handler","attachEvent","removeEventListener","nodeList","ctx","startClick","seed","createDocumentHandler","el","binding","vnode","mouseup","mousedown","context","target","contains","popperElm","methodName","bindingFn","e","forEach","node","documentHandler","bind","push","id","update","unbind","len","i","splice","Clickoutside","data","mounted","methods","index","findIndex","item","$router","replace","params","units","inErrorMode","$message","message","type","computed","reduce","total","getErrorCharsByBook","component"],"sourceRoot":""}